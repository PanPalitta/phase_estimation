<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Evolutionary algorithm for adaptive phase estimation: C:/DATA/PROGRAM/GitHub/phase_estimation/src/mpi_optalg.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Evolutionary algorithm for adaptive phase estimation
   &#160;<span id="projectnumber">1.0.2</span>
   </div>
   <div id="projectbrief">We implement evolutionary algorithm to the problem of adaptive phase estimation, which is an example of quantum control problems. The aim of this project is to create a library containing modules that streamlines the construction of an optimization algorithm for quantum control problems. Access to modules of optimization algorithms provides the building blocks that users can use to tweak the algorithm to their needs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mpi_optalg.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mpi__optalg_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpi__optalg_8h.html">mpi_optalg.h</a>&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/*##############################Function for initializing population##############################*/</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="class_opt_alg.html#aa41bb2ae61dade0b4a77ce73676b1e9e">    5</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_opt_alg.html#aa41bb2ae61dade0b4a77ce73676b1e9e">OptAlg::Init_population</a>(<span class="keywordtype">int</span> psize) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="keywordflow">if</span>(psize &lt;= 0) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        <span class="keywordflow">throw</span> invalid_argument(<span class="stringliteral">&quot;Population size must be positive.&quot;</span>);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        }</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keywordtype">double</span> input[<a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>];</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="comment">//store the variables</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a> = psize;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a> = <span class="keyword">new</span> <a class="code" href="class_candidate.html">Candidate</a>[<a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a>];</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 0; p &lt; <a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a>; ++p) {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        <span class="comment">//generate candidate uniformly</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>; ++i) {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            input[i] = double(rand()) / RAND_MAX * (<a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a02bd6d1e098e211cc3bf0f5e02f20133">upper_bound</a>[i] - <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a4dfde0675e59264970f418516b799b2c">lower_bound</a>[i]) + <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a4dfde0675e59264970f418516b799b2c">lower_bound</a>[i];</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="comment">//store it in candidate object</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].<a class="code" href="class_candidate.html#ae8c2547a241782be6aeb906f5c068ff4">init_can</a>(<a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>, <a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>); <span class="comment">//First the memories in the object are initialized.</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].<a class="code" href="class_candidate.html#a187a80dd9f06918ec9698a7f1a5c1485">update_cont</a>(input); <span class="comment">//The candidates are stored in the contender array.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <a class="code" href="class_opt_alg.html#a777e1aa4c2eff276b03b1e68e0ae575e">Cont_fitness</a>(p); <span class="comment">//The fitness values are computed.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        }</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    }</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="class_opt_alg.html#a492a3ed39231569801db4cf8f271da9f">   31</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_opt_alg.html#a492a3ed39231569801db4cf8f271da9f">OptAlg::Init_previous</a>(<span class="keywordtype">double</span> prev_dev, <span class="keywordtype">double</span> new_dev, <span class="keywordtype">int</span> psize, <span class="keywordtype">double</span> *prev_soln) {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span>(psize &lt;= 0) {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">throw</span> invalid_argument(<span class="stringliteral">&quot;Population size must be positive&quot;</span>);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        }</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">int</span> dev_cut_off = <a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a> - 1;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">double</span> input[<a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>];</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordtype">double</span> dev[<a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>];</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">//store the variables</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a> = psize;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a> = <span class="keyword">new</span> <a class="code" href="class_candidate.html">Candidate</a>[<a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a>];</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    prev_soln[<a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a> - 1] = prev_soln[<a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a> - 2]; <span class="comment">//Generate the input array from previous solution.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="class_opt_alg.html#a066626a5ae556db202925836792d86af">dev_gen</a>(dev, prev_dev, new_dev, dev_cut_off); <span class="comment">//Generate an array of the width of the Gaussian distribution.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 0; p &lt; <a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a>; ++p) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="comment">//generate candidate</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>; ++i) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            input[i] = fabs(<a class="code" href="class_opt_alg.html#ac0ee18ec5c5dafdd79b08c4c941f9b3a">gaussian_rng</a>-&gt;next_rand(prev_soln[i], dev[i]));</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a866551d6c3a8c639eed39dd629459145">boundary</a>(input);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="comment">//store it in candidate object</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].<a class="code" href="class_candidate.html#ae8c2547a241782be6aeb906f5c068ff4">init_can</a>(<a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>, <a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>); <span class="comment">//First the memories in the object are initialized.</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].<a class="code" href="class_candidate.html#a187a80dd9f06918ec9698a7f1a5c1485">update_cont</a>(input); <span class="comment">//The candidates are stored in the contender array.</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="class_opt_alg.html#a777e1aa4c2eff276b03b1e68e0ae575e">Cont_fitness</a>(p); <span class="comment">//The fitness values are computed.</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/*##############################Function for calculating fitnesses##############################*/</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_opt_alg.html#a777e1aa4c2eff276b03b1e68e0ae575e">   64</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_opt_alg.html#a777e1aa4c2eff276b03b1e68e0ae575e">OptAlg::Cont_fitness</a>(<span class="keywordtype">int</span> p) {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">double</span> fit1[<a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>];</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordtype">double</span> fit2[<a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>];</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a5a889257574b59d70c30e77f96657633">avg_fitness</a>(<a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].contender, <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a02dc7cd36750260516f536d4b519399d">num_repeat</a>, fit1);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a5a889257574b59d70c30e77f96657633">avg_fitness</a>(<a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].contender, <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a02dc7cd36750260516f536d4b519399d">num_repeat</a>, fit2);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>; i++) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        fit1[i] += fit2[i];</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        fit1[i] = fit1[i] / 2.0;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].<a class="code" href="class_candidate.html#a66db5a3f7d39af1d6b0737c39ebe941a">write_contfit</a>(fit1, 2);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="class_opt_alg.html#a1bfdb110e81c3ecb852661df45abcaa8">   80</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_opt_alg.html#a1bfdb110e81c3ecb852661df45abcaa8">OptAlg::Best_fitness</a>(<span class="keywordtype">int</span> p) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">double</span> fit[<a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>];</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a5a889257574b59d70c30e77f96657633">avg_fitness</a>(<a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].can_best, <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a02dc7cd36750260516f536d4b519399d">num_repeat</a>, fit);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].<a class="code" href="class_candidate.html#a491eb3fc3331b64f4536f1ed47a23c7b">write_bestfit</a>(fit);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="class_opt_alg.html#a7db6fbc363c4d98858d7c10a60c26e96">   89</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_opt_alg.html#a7db6fbc363c4d98858d7c10a60c26e96">OptAlg::update_popfit</a>() {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 0; p &lt; <a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a>; ++p) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="class_opt_alg.html#a1bfdb110e81c3ecb852661df45abcaa8">Best_fitness</a>(p);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/*##############################Final Selections#################################*/</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="class_opt_alg.html#a87cc15028c9fd9c48a2704688e130df4">   98</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_opt_alg.html#a87cc15028c9fd9c48a2704688e130df4">OptAlg::Final_select</a>(<span class="keywordtype">double</span> *fit, <span class="keywordtype">double</span> *solution, <span class="keywordtype">double</span> *fitarray) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">int</span> indx;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    MPI_Status status;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">int</span> tag = 1;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">double</span> global_fit;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="class_opt_alg.html#af9dd802bb54ddda92d1284ae1f9e03f8">fit_to_global</a>();<span class="comment">//ensuring that global_best contains the solutions</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">//Send all fitness value to root (p=0)</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 0; p &lt; <a class="code" href="class_opt_alg.html#a00d7aba3351e761fdb86aa3d40af5079">total_pop</a>; ++p) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span>(p % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a> == 0) {<span class="comment">// if p is on root, then just write the fitness to central table</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                fit[p] = <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[int(p / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>)].<a class="code" href="class_candidate.html#ad578f36338278df9aaacdcef86918ec3">read_globalfit</a>(0);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">else</span> { <span class="comment">//if p is not on the root, then read the fitness and send it to central table in root</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == p % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>) { <span class="comment">//send the fitness from non-root</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                global_fit = <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[int(p / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>)].<a class="code" href="class_candidate.html#ad578f36338278df9aaacdcef86918ec3">read_globalfit</a>(0);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                MPI_Send(&amp;global_fit, 1, MPI_DOUBLE, 0, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) { <span class="comment">//root receive and store fitness value</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                MPI_Recv(&amp;fit[p], 1, MPI_DOUBLE, p % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">//find the candidate that with highest fitness and send the index to all processors.</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        indx = <a class="code" href="class_opt_alg.html#af3902ca969077ccb650b7080bfe8b5e5">find_max</a>(fit);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="comment">//root send the index to all processors.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 1; p &lt; <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>; ++p) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            MPI_Send(&amp;indx, 1, MPI_INT, p, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">//processors other than root receive the index</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> != 0) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        MPI_Recv(&amp;indx, 1, MPI_INT, 0, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">//read the fitarray and send it to all processor for checking success criteria</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>; ++i) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            fitarray[i] = <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[indx / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>].<a class="code" href="class_candidate.html#ad578f36338278df9aaacdcef86918ec3">read_globalfit</a>(i);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 0; p &lt; <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>; ++p) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">if</span>(p != <a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a>) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                MPI_Send(&amp;fitarray[0], <a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>, MPI_DOUBLE, p, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> != indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        MPI_Recv(&amp;fitarray[0], <a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>, MPI_DOUBLE, indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">//sending the solution back to root //need to check data type</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span>(indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a> == 0) { <span class="comment">//if solution is in root, then read it out.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[int(indx / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>)].<a class="code" href="class_candidate.html#a8c66d8d11268379bfdc84a542d75205f">read_global</a>(solution);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">//if solution is not in root, send to root</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[int(indx / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>)].<a class="code" href="class_candidate.html#a8c66d8d11268379bfdc84a542d75205f">read_global</a>(solution);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            MPI_Send(&amp;solution[0], <a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>, MPI_DOUBLE, 0, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            MPI_Recv(&amp;solution[0], <a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>, MPI_DOUBLE, indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> fitarray[0];</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="class_opt_alg.html#a00eb4ffc7e7ce8fe072ef90cd9e8dc52">  190</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_opt_alg.html#a00eb4ffc7e7ce8fe072ef90cd9e8dc52">OptAlg::avg_Final_select</a>(<span class="keywordtype">double</span>* solution, <span class="keywordtype">int</span> repeat, <span class="keywordtype">double</span> *soln_fit, <span class="keywordtype">double</span> *fitarray) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    MPI_Status status;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">int</span> tag = 1;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">double</span> final_fit;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">int</span> indx;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">double</span> array[<a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>];</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">double</span> fit[<a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a>][<a class="code" href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">num_fit</a>];</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">//double fitarray[num_fit];</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="class_opt_alg.html#af9dd802bb54ddda92d1284ae1f9e03f8">fit_to_global</a>();<span class="comment">//move solution to global_best array in case we&#39;re using DE.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">//Need to calculate fitness again for &#39;repeat&#39; times, independently on each</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 0; p &lt; <a class="code" href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">pop_size</a>; ++p) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">//pop[p].read_global(array);</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        fit[p][0] = 0;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        fit[p][1] = 0;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; repeat; ++i) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a5a889257574b59d70c30e77f96657633">avg_fitness</a>(<a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[p].global_best, <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a02dc7cd36750260516f536d4b519399d">num_repeat</a>, fitarray);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            fit[p][0] += fitarray[0];</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        fit[p][1] += fitarray[1];</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        fit[p][0] = fit[p][0] / repeat;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        fit[p][1] = fit[p][1] / repeat;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">//filling the fitness table in root</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 0; p &lt; <a class="code" href="class_opt_alg.html#a00d7aba3351e761fdb86aa3d40af5079">total_pop</a>; ++p) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span>(p % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a> == 0) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            soln_fit[p] = fit[p / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>][0]; <span class="comment">//no need for transmitting data</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == p % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                MPI_Send(&amp;fit[p / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>][0], 1, MPI_DOUBLE, 0, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                MPI_Recv(&amp;soln_fit[p], 1, MPI_DOUBLE, p % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">// find the maximum fitness and send out the fitness for success criteria testing</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        indx = <a class="code" href="class_opt_alg.html#af3902ca969077ccb650b7080bfe8b5e5">find_max</a>(soln_fit);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        final_fit = soln_fit[indx];</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 1; p &lt; <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>; ++p) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            MPI_Send(&amp;final_fit, 1, MPI_DOUBLE, p, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        MPI_Recv(&amp;final_fit, 1, MPI_DOUBLE, 0, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// send index of solution to processors</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 1; p &lt; <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>; ++p) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            MPI_Send(&amp;indx, 1, MPI_INT, p, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        MPI_Recv(&amp;indx, 1, MPI_INT, 0, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">//get solution from the processor</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="comment">//pop[indx / nb_proc].read_global(array);</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        MPI_Send(<a class="code" href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">pop</a>[indx / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>].global_best, <a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>, MPI_DOUBLE, 0, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        MPI_Recv(&amp;solution[0], <a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>, MPI_DOUBLE, indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <span class="comment">//get fitarray from the processor</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        MPI_Send(&amp;fit[indx / <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>][1], 1, MPI_DOUBLE, 0, tag, MPI_COMM_WORLD);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">my_rank</a> == 0) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    fitarray[0]=final_fit;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        MPI_Recv(&amp;fitarray[1], 1, MPI_DOUBLE, indx % <a class="code" href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">nb_proc</a>, tag, MPI_COMM_WORLD, &amp;status);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> final_fit;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="class_opt_alg.html#af3902ca969077ccb650b7080bfe8b5e5">  288</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_opt_alg.html#af3902ca969077ccb650b7080bfe8b5e5">OptAlg::find_max</a>(<span class="keywordtype">double</span> *fit) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordtype">double</span>* soln;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">int</span> indx;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    soln = &amp;fit[0];</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    indx = 0;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p = 1; p &lt; <a class="code" href="class_opt_alg.html#a00d7aba3351e761fdb86aa3d40af5079">total_pop</a>; ++p) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span>(*soln &lt; fit[p]) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            soln = &amp;fit[p];</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            indx = p;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">else</span> {}</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> indx;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">/*##############################Success Criteria#################################*/</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="class_opt_alg.html#aede105b27f0777435108e3c8d79b0e91">  307</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_opt_alg.html#aede105b27f0777435108e3c8d79b0e91">OptAlg::set_success</a>(<span class="keywordtype">int</span> iter, <span class="keywordtype">bool</span> goal_in) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (iter &lt;= 0) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">throw</span> out_of_range(<span class="stringliteral">&quot;Number of iteration has to be positive.&quot;</span>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="class_opt_alg.html#a2150acef11d441cb786afe578051e56f">success</a> = 0;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="class_opt_alg.html#a9cbac99eb4f69fb2a3860ecec0dd3dc3">T</a> = iter;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="class_opt_alg.html#adf188f99e90b0d81c699dd5e8da9d93a">goal</a> = goal_in;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="class_opt_alg.html#a46ab488aab5a16c5355c34e5a2f5010c">  316</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_opt_alg.html#a46ab488aab5a16c5355c34e5a2f5010c">OptAlg::check_success</a>(<span class="keywordtype">int</span> <a class="code" href="class_opt_alg.html#a716972bd2e408aa4b77be28fa2f0cbb1">t</a>, <span class="keywordtype">double</span> *current_fitarray, <span class="keywordtype">double</span> *memory_fitarray, <span class="keywordtype">int</span> data_size, <span class="keywordtype">double</span> t_goal, <span class="keywordtype">bool</span> *mem_ptype, <span class="keywordtype">int</span> *numvar, <span class="keywordtype">int</span> N_cut, <span class="keywordtype">double</span> *memory_forT) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">bool</span> type;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#adf188f99e90b0d81c699dd5e8da9d93a">goal</a> == 0) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_opt_alg.html#a716972bd2e408aa4b77be28fa2f0cbb1">t</a> &gt;= <a class="code" href="class_opt_alg.html#a9cbac99eb4f69fb2a3860ecec0dd3dc3">T</a>) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#a255e5389c219874e664e30c9c668c304">T_condition</a>(current_fitarray, numvar, N_cut, mem_ptype, memory_forT); <span class="comment">//This is wrong</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">prob</a>-&gt;<a class="code" href="class_problem.html#ac1ca5447cff83eaeb7fc511d023e983f">error_condition</a>(current_fitarray, memory_fitarray, data_size, t_goal);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="class_opt_alg.html#a066626a5ae556db202925836792d86af">  341</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_opt_alg.html#a066626a5ae556db202925836792d86af">OptAlg::dev_gen</a>(<span class="keywordtype">double</span> *dev_array, <span class="keywordtype">double</span> prev_dev, <span class="keywordtype">double</span> new_dev, <span class="keywordtype">int</span> cut_off) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">num</a>; ++i) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">if</span>(i &lt; cut_off) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            dev_array[i] = prev_dev;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            dev_array[i] = new_dev;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div><div class="ttc" id="class_candidate_html_a187a80dd9f06918ec9698a7f1a5c1485"><div class="ttname"><a href="class_candidate.html#a187a80dd9f06918ec9698a7f1a5c1485">Candidate::update_cont</a></div><div class="ttdeci">void update_cont(double *input)</div><div class="ttdef"><b>Definition:</b> <a href="candidate_8cpp_source.html#l00045">candidate.cpp:45</a></div></div>
<div class="ttc" id="class_problem_html_a255e5389c219874e664e30c9c668c304"><div class="ttname"><a href="class_problem.html#a255e5389c219874e664e30c9c668c304">Problem::T_condition</a></div><div class="ttdeci">virtual bool T_condition(double *fitarray, int *numvar, int N_cut, bool *mem_ptype, double *memory_forT)</div><div class="ttdef"><b>Definition:</b> <a href="problem_8h_source.html#l00024">problem.h:24</a></div></div>
<div class="ttc" id="class_opt_alg_html_ac77c5435ea2c60365319357b074f818d"><div class="ttname"><a href="class_opt_alg.html#ac77c5435ea2c60365319357b074f818d">OptAlg::my_rank</a></div><div class="ttdeci">int my_rank</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00081">mpi_optalg.h:81</a></div></div>
<div class="ttc" id="class_candidate_html_a66db5a3f7d39af1d6b0737c39ebe941a"><div class="ttname"><a href="class_candidate.html#a66db5a3f7d39af1d6b0737c39ebe941a">Candidate::write_contfit</a></div><div class="ttdeci">void write_contfit(double *fit, int tt)</div><div class="ttdef"><b>Definition:</b> <a href="candidate_8cpp_source.html#l00094">candidate.cpp:94</a></div></div>
<div class="ttc" id="class_problem_html_a866551d6c3a8c639eed39dd629459145"><div class="ttname"><a href="class_problem.html#a866551d6c3a8c639eed39dd629459145">Problem::boundary</a></div><div class="ttdeci">virtual void boundary(double *can1)</div><div class="ttdef"><b>Definition:</b> <a href="problem_8h_source.html#l00032">problem.h:32</a></div></div>
<div class="ttc" id="class_opt_alg_html_a00d7aba3351e761fdb86aa3d40af5079"><div class="ttname"><a href="class_opt_alg.html#a00d7aba3351e761fdb86aa3d40af5079">OptAlg::total_pop</a></div><div class="ttdeci">int total_pop</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00080">mpi_optalg.h:80</a></div></div>
<div class="ttc" id="class_candidate_html_a491eb3fc3331b64f4536f1ed47a23c7b"><div class="ttname"><a href="class_candidate.html#a491eb3fc3331b64f4536f1ed47a23c7b">Candidate::write_bestfit</a></div><div class="ttdeci">void write_bestfit(double *fit)</div><div class="ttdef"><b>Definition:</b> <a href="candidate_8cpp_source.html#l00099">candidate.cpp:99</a></div></div>
<div class="ttc" id="class_opt_alg_html_af9dd802bb54ddda92d1284ae1f9e03f8"><div class="ttname"><a href="class_opt_alg.html#af9dd802bb54ddda92d1284ae1f9e03f8">OptAlg::fit_to_global</a></div><div class="ttdeci">virtual void fit_to_global()</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00041">mpi_optalg.h:41</a></div></div>
<div class="ttc" id="class_opt_alg_html_a2150acef11d441cb786afe578051e56f"><div class="ttname"><a href="class_opt_alg.html#a2150acef11d441cb786afe578051e56f">OptAlg::success</a></div><div class="ttdeci">bool success</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00067">mpi_optalg.h:67</a></div></div>
<div class="ttc" id="class_opt_alg_html_aede105b27f0777435108e3c8d79b0e91"><div class="ttname"><a href="class_opt_alg.html#aede105b27f0777435108e3c8d79b0e91">OptAlg::set_success</a></div><div class="ttdeci">void set_success(int iter, bool goal)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00307">mpi_optalg.cpp:307</a></div></div>
<div class="ttc" id="class_opt_alg_html_ac0ee18ec5c5dafdd79b08c4c941f9b3a"><div class="ttname"><a href="class_opt_alg.html#ac0ee18ec5c5dafdd79b08c4c941f9b3a">OptAlg::gaussian_rng</a></div><div class="ttdeci">Rng * gaussian_rng</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00073">mpi_optalg.h:73</a></div></div>
<div class="ttc" id="class_problem_html_a02bd6d1e098e211cc3bf0f5e02f20133"><div class="ttname"><a href="class_problem.html#a02bd6d1e098e211cc3bf0f5e02f20133">Problem::upper_bound</a></div><div class="ttdeci">double * upper_bound</div><div class="ttdef"><b>Definition:</b> <a href="problem_8h_source.html#l00037">problem.h:37</a></div></div>
<div class="ttc" id="class_opt_alg_html_a066626a5ae556db202925836792d86af"><div class="ttname"><a href="class_opt_alg.html#a066626a5ae556db202925836792d86af">OptAlg::dev_gen</a></div><div class="ttdeci">void dev_gen(double *dev_array, double prev_dev, double new_dev, int cut_off)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00341">mpi_optalg.cpp:341</a></div></div>
<div class="ttc" id="class_opt_alg_html_a716972bd2e408aa4b77be28fa2f0cbb1"><div class="ttname"><a href="class_opt_alg.html#a716972bd2e408aa4b77be28fa2f0cbb1">OptAlg::t</a></div><div class="ttdeci">int t</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00076">mpi_optalg.h:76</a></div></div>
<div class="ttc" id="class_problem_html_ac1ca5447cff83eaeb7fc511d023e983f"><div class="ttname"><a href="class_problem.html#ac1ca5447cff83eaeb7fc511d023e983f">Problem::error_condition</a></div><div class="ttdeci">virtual bool error_condition(double *current_fitarray, double *memory_fitarray, int data_size, double goal)</div><div class="ttdef"><b>Definition:</b> <a href="problem_8h_source.html#l00028">problem.h:28</a></div></div>
<div class="ttc" id="class_opt_alg_html_af3902ca969077ccb650b7080bfe8b5e5"><div class="ttname"><a href="class_opt_alg.html#af3902ca969077ccb650b7080bfe8b5e5">OptAlg::find_max</a></div><div class="ttdeci">int find_max(double *fit)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00288">mpi_optalg.cpp:288</a></div></div>
<div class="ttc" id="class_opt_alg_html_aa41bb2ae61dade0b4a77ce73676b1e9e"><div class="ttname"><a href="class_opt_alg.html#aa41bb2ae61dade0b4a77ce73676b1e9e">OptAlg::Init_population</a></div><div class="ttdeci">void Init_population(int psize)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00005">mpi_optalg.cpp:5</a></div></div>
<div class="ttc" id="class_opt_alg_html_a00eb4ffc7e7ce8fe072ef90cd9e8dc52"><div class="ttname"><a href="class_opt_alg.html#a00eb4ffc7e7ce8fe072ef90cd9e8dc52">OptAlg::avg_Final_select</a></div><div class="ttdeci">double avg_Final_select(double *solution, int repeat, double *soln_fit, double *fitarray)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00190">mpi_optalg.cpp:190</a></div></div>
<div class="ttc" id="class_problem_html_a4dfde0675e59264970f418516b799b2c"><div class="ttname"><a href="class_problem.html#a4dfde0675e59264970f418516b799b2c">Problem::lower_bound</a></div><div class="ttdeci">double * lower_bound</div><div class="ttdef"><b>Definition:</b> <a href="problem_8h_source.html#l00036">problem.h:36</a></div></div>
<div class="ttc" id="class_opt_alg_html_a3e8052f94b8cbecfe087377cc5c9a530"><div class="ttname"><a href="class_opt_alg.html#a3e8052f94b8cbecfe087377cc5c9a530">OptAlg::pop_size</a></div><div class="ttdeci">int pop_size</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00074">mpi_optalg.h:74</a></div></div>
<div class="ttc" id="mpi__optalg_8h_html"><div class="ttname"><a href="mpi__optalg_8h.html">mpi_optalg.h</a></div></div>
<div class="ttc" id="class_candidate_html"><div class="ttname"><a href="class_candidate.html">Candidate</a></div><div class="ttdoc">Candidate class contains arrays to be used by optimization algorithm to store data of a solution cand...</div><div class="ttdef"><b>Definition:</b> <a href="candidate_8h_source.html#l00011">candidate.h:11</a></div></div>
<div class="ttc" id="class_opt_alg_html_aad208e0441922169d0333c2277f1b7aa"><div class="ttname"><a href="class_opt_alg.html#aad208e0441922169d0333c2277f1b7aa">OptAlg::num_fit</a></div><div class="ttdeci">int num_fit</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00072">mpi_optalg.h:72</a></div></div>
<div class="ttc" id="class_opt_alg_html_a777e1aa4c2eff276b03b1e68e0ae575e"><div class="ttname"><a href="class_opt_alg.html#a777e1aa4c2eff276b03b1e68e0ae575e">OptAlg::Cont_fitness</a></div><div class="ttdeci">void Cont_fitness(int p)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00064">mpi_optalg.cpp:64</a></div></div>
<div class="ttc" id="class_opt_alg_html_a90c8e3ad1c547ae5a8ee572b8f5aec98"><div class="ttname"><a href="class_opt_alg.html#a90c8e3ad1c547ae5a8ee572b8f5aec98">OptAlg::num</a></div><div class="ttdeci">int num</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00071">mpi_optalg.h:71</a></div></div>
<div class="ttc" id="class_opt_alg_html_a9cbac99eb4f69fb2a3860ecec0dd3dc3"><div class="ttname"><a href="class_opt_alg.html#a9cbac99eb4f69fb2a3860ecec0dd3dc3">OptAlg::T</a></div><div class="ttdeci">int T</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00075">mpi_optalg.h:75</a></div></div>
<div class="ttc" id="class_opt_alg_html_a87cc15028c9fd9c48a2704688e130df4"><div class="ttname"><a href="class_opt_alg.html#a87cc15028c9fd9c48a2704688e130df4">OptAlg::Final_select</a></div><div class="ttdeci">double Final_select(double *fit, double *solution, double *fitarray)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00098">mpi_optalg.cpp:98</a></div></div>
<div class="ttc" id="class_opt_alg_html_a46ab488aab5a16c5355c34e5a2f5010c"><div class="ttname"><a href="class_opt_alg.html#a46ab488aab5a16c5355c34e5a2f5010c">OptAlg::check_success</a></div><div class="ttdeci">bool check_success(int t, double *current_fitarray, double *memory_fitarray, int data_size, double t_goal, bool *mem_ptype, int *numvar, int N_cut, double *memory_forT)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00316">mpi_optalg.cpp:316</a></div></div>
<div class="ttc" id="class_opt_alg_html_a7db6fbc363c4d98858d7c10a60c26e96"><div class="ttname"><a href="class_opt_alg.html#a7db6fbc363c4d98858d7c10a60c26e96">OptAlg::update_popfit</a></div><div class="ttdeci">void update_popfit()</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00089">mpi_optalg.cpp:89</a></div></div>
<div class="ttc" id="class_opt_alg_html_adf188f99e90b0d81c699dd5e8da9d93a"><div class="ttname"><a href="class_opt_alg.html#adf188f99e90b0d81c699dd5e8da9d93a">OptAlg::goal</a></div><div class="ttdeci">bool goal</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00078">mpi_optalg.h:78</a></div></div>
<div class="ttc" id="class_candidate_html_a8c66d8d11268379bfdc84a542d75205f"><div class="ttname"><a href="class_candidate.html#a8c66d8d11268379bfdc84a542d75205f">Candidate::read_global</a></div><div class="ttdeci">void read_global(double *output)</div><div class="ttdef"><b>Definition:</b> <a href="candidate_8cpp_source.html#l00090">candidate.cpp:90</a></div></div>
<div class="ttc" id="class_opt_alg_html_a7dab3b1976c558ec3e4125f15a9ee530"><div class="ttname"><a href="class_opt_alg.html#a7dab3b1976c558ec3e4125f15a9ee530">OptAlg::nb_proc</a></div><div class="ttdeci">int nb_proc</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00082">mpi_optalg.h:82</a></div></div>
<div class="ttc" id="class_opt_alg_html_a2265aee213d76a4b95626a022c5ea50d"><div class="ttname"><a href="class_opt_alg.html#a2265aee213d76a4b95626a022c5ea50d">OptAlg::pop</a></div><div class="ttdeci">Candidate * pop</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00077">mpi_optalg.h:77</a></div></div>
<div class="ttc" id="class_opt_alg_html_a1bfdb110e81c3ecb852661df45abcaa8"><div class="ttname"><a href="class_opt_alg.html#a1bfdb110e81c3ecb852661df45abcaa8">OptAlg::Best_fitness</a></div><div class="ttdeci">void Best_fitness(int p)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00080">mpi_optalg.cpp:80</a></div></div>
<div class="ttc" id="class_opt_alg_html_a492a3ed39231569801db4cf8f271da9f"><div class="ttname"><a href="class_opt_alg.html#a492a3ed39231569801db4cf8f271da9f">OptAlg::Init_previous</a></div><div class="ttdeci">void Init_previous(double prev_dev, double new_dev, int psize, double *prev_soln)</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8cpp_source.html#l00031">mpi_optalg.cpp:31</a></div></div>
<div class="ttc" id="class_problem_html_a5a889257574b59d70c30e77f96657633"><div class="ttname"><a href="class_problem.html#a5a889257574b59d70c30e77f96657633">Problem::avg_fitness</a></div><div class="ttdeci">virtual void avg_fitness(double *soln, int K, double *fitarray)</div><div class="ttdef"><b>Definition:</b> <a href="problem_8h_source.html#l00020">problem.h:20</a></div></div>
<div class="ttc" id="class_opt_alg_html_ad83a3cc560bd483e499f26f629817f21"><div class="ttname"><a href="class_opt_alg.html#ad83a3cc560bd483e499f26f629817f21">OptAlg::prob</a></div><div class="ttdeci">Problem * prob</div><div class="ttdef"><b>Definition:</b> <a href="mpi__optalg_8h_source.html#l00042">mpi_optalg.h:42</a></div></div>
<div class="ttc" id="class_candidate_html_ae8c2547a241782be6aeb906f5c068ff4"><div class="ttname"><a href="class_candidate.html#ae8c2547a241782be6aeb906f5c068ff4">Candidate::init_can</a></div><div class="ttdeci">void init_can(int numvar, int fit_size)</div><div class="ttdef"><b>Definition:</b> <a href="candidate_8cpp_source.html#l00019">candidate.cpp:19</a></div></div>
<div class="ttc" id="class_candidate_html_ad578f36338278df9aaacdcef86918ec3"><div class="ttname"><a href="class_candidate.html#ad578f36338278df9aaacdcef86918ec3">Candidate::read_globalfit</a></div><div class="ttdeci">double read_globalfit(int i)</div><div class="ttdef"><b>Definition:</b> <a href="candidate_8h_source.html#l00050">candidate.h:50</a></div></div>
<div class="ttc" id="class_problem_html_a02dc7cd36750260516f536d4b519399d"><div class="ttname"><a href="class_problem.html#a02dc7cd36750260516f536d4b519399d">Problem::num_repeat</a></div><div class="ttdeci">int num_repeat</div><div class="ttdef"><b>Definition:</b> <a href="problem_8h_source.html#l00040">problem.h:40</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
